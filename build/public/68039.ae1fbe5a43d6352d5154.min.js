(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[68039,70565,83014,99617,37986,588,62735,10882,43034,79191,3564],{74344:(b,E,f)=>{"use strict";f.r(E),f.d(E,{del:()=>a,get:()=>i,head:()=>s,patch:()=>e,post:()=>d,put:()=>r});var g=f(85233),h=f.n(g),v=f(63281),u=f.n(v);const n=config.relative_path+"/api/v3";async function o(t,c){if(t.url=t.url.startsWith("/api")?config.relative_path+t.url:n+t.url,typeof c=="function"){l(t).then(m=>c(null,m),m=>c(m));return}try{return await l(t)}catch(m){if(m.message==="A valid login session was not found. Please log in and try again.")return(0,v.confirm)("[[error:api.reauth-required]]",w=>{w&&ajaxify.go("login")});throw m}}async function l(t){const{url:c}=t;delete t.url,t.data&&!(t.data instanceof FormData)&&(t.data=JSON.stringify(t.data||{}),t.headers["content-type"]="application/json; charset=utf-8"),{options:t}=await(0,g.fire)("filter:api.options",{options:t}),t.data&&(t.body=t.data,delete t.data);const m=await fetch(c,t),{headers:w}=m,D=w.get("content-type"),C=D&&D.startsWith("application/json");let p;if(t.method!=="head"&&(C?p=await m.json():p=await m.text()),!m.ok)throw p?new Error(C?p.status.message:p):new Error(m.statusText);return C&&p&&p.hasOwnProperty("status")&&p.hasOwnProperty("response")?p.response:p}function i(t,c,m){return o({url:t+(c&&Object.keys(c).length?"?"+$.param(c):"")},m)}function s(t,c,m){return o({url:t+(c&&Object.keys(c).length?"?"+$.param(c):""),method:"head"},m)}function d(t,c,m){return o({url:t,method:"post",data:c,headers:{"x-csrf-token":config.csrf_token}},m)}function e(t,c,m){return o({url:t,method:"patch",data:c,headers:{"x-csrf-token":config.csrf_token}},m)}function r(t,c,m){return o({url:t,method:"put",data:c,headers:{"x-csrf-token":config.csrf_token}},m)}function a(t,c,m){return o({url:t,method:"delete",data:c,headers:{"x-csrf-token":config.csrf_token}},m)}},99398:(b,E,f)=>{b.exports=f(18196)},45482:(b,E,f)=>{b.exports=f(35729)},83713:(b,E,f)=>{b.exports=f(51077)},38259:(b,E,f)=>{b.exports=f(65616)},27145:(b,E,f)=>{"use strict";b=f.nmd(b);var g,h;g=[f(32230),f(85233)],h=function(v,u){const n={};let o=!1;n.init=function(){if(n.taskbar=$('[component="taskbar"]'),n.tasklist=n.taskbar.find("ul"),!n.taskbar.length||!n.tasklist.length){o=!0;return}n.taskbar.on("click","li",async function(){const e=$(this),r=e.attr("data-module"),a=e.attr("data-uuid"),t=await app.require(r);return e.hasClass("active")?t.minimize(a):(i(),t.load(a),n.toggleNew(a,!1),n.tasklist.removeClass("active"),e.addClass("active")),!1}),$(window).on("action:app.loggedOut",function(){n.closeAll()})},n.close=async function(e,r){if(o)return;if(n.tasklist.find('[data-module="'+b+'"][data-uuid="'+r+'"]').length){const t=await app.require(e);t&&typeof t.close=="function"&&t.close(r)}},n.closeAll=function(e){if(o)return;let r="[data-uuid]";e&&(r='[data-module="'+e+'"]'+r),n.tasklist.find(r).each(function(a,t){n.close(e||t.getAttribute("data-module"),t.getAttribute("data-uuid"))})},n.discard=function(e,r){if(o)return;n.tasklist.find('[data-module="'+e+'"][data-uuid="'+r+'"]').remove(),l()},n.push=function(e,r,a,t){if(t=t||function(){},o)return t();const c=n.tasklist.find('li[data-uuid="'+r+'"]'),m={module:e,uuid:r,options:a,element:c};u.fire("filter:taskbar.push",m),!c.length&&m.module?s(m,t):t(c)},n.get=function(e){return o?[]:$('[data-module="'+e+'"]').map(function(a,t){return $(t).data()})},n.minimize=function(e,r){if(o)return;n.tasklist.find('[data-module="'+e+'"][data-uuid="'+r+'"]').toggleClass("active",!1)},n.toggleNew=function(e,r,a){if(o)return;n.tasklist.find('[data-uuid="'+e+'"]').toggleClass("new",r),a||u.fire("action:taskbar.toggleNew",e)},n.updateActive=function(e){if(o)return;const r=n.tasklist.find("li");r.removeClass("active"),r.filter('[data-uuid="'+e+'"]').addClass("active"),$("[data-uuid]:not([data-module])").toggleClass("modal-unfocused",!0),$('[data-uuid="'+e+'"]:not([data-module])').toggleClass("modal-unfocused",!1)},n.isActive=function(e){return o?!1:n.tasklist.find('li[data-uuid="'+e+'"]').hasClass("active")};function l(){if(o)return;n.tasklist.find("li").length>0?n.taskbar.attr("data-active","1"):n.taskbar.removeAttr("data-active")}function i(){o||n.tasklist.find(".active").removeClass("active")}function s(e,r){if(o)return r();v.translate(e.options.title,function(a){const t=$("<div></div>").text(a||"NodeBB Task").html(),c=$("<li></li>").addClass(e.options.className).html('<a href="#"'+(e.options.image?` style="background-image: url('`+e.options.image.replace(/&#x2F;/g,"/")+`'); background-size: cover;"`:"")+">"+(e.options.icon?'<i class="fa '+e.options.icon+'"></i> ':"")+'<span aria-label="'+t+'" component="taskbar/title">'+t+"</span></a>").attr({title:t,"data-module":e.module,"data-uuid":e.uuid}).addClass(e.options.state!==void 0?e.options.state:"active");(!e.options.state||e.options.state==="active")&&i(),n.tasklist.append(c),l(),e.element=c,c.data(e),u.fire("action:taskbar.pushed",e),r(c)})}const d=function(e,r,a){switch(r){case"title":e.find('[component="taskbar/title"]').text(a);break;case"icon":e.find("i").attr("class","fa fa-"+a);break;case"image":e.find("a").css("background-image",a?'url("'+a.replace(/&#x2F;/g,"/")+'")':"");break;case"background-color":e.find("a").css("background-color",a);break;case"color":e.find("a").css("color",a);break}};return n.update=function(e,r,a){if(o)return;const t=n.tasklist.find('[data-module="'+e+'"][data-uuid="'+r+'"]');if(!t.length)return;const c=t.data();Object.keys(a).forEach(function(m){c[m]=a[m],d(t,m,a[m])}),t.data(c)},n}.apply(E,g),h!==void 0&&(b.exports=h)},62023:(b,E,f)=>{"use strict";var g,h;g=[f(74344),f(63281),f(7927),f(50431),f(59006),f(32230),f(62526)],h=function(v,u,n,o,l,i){const s={};return s.get=d=>v.get(`/topics/${d}/thumbs`,{}),s.getByPid=d=>v.get(`/posts/${d}`,{}).then(e=>s.get(e.tid)),s.delete=(d,e)=>v.del(`/topics/${d}/thumbs`,{path:e}),s.deleteAll=d=>{s.get(d).then(e=>{Promise.all(e.map(r=>s.delete(d,r.url)))})},s.upload=d=>new Promise(e=>{o.show({title:"[[topic:composer.thumb-title]]",method:"put",route:config.relative_path+`/api/v3/topics/${d}/thumbs`},function(r){e(r)})}),s.modal={},s.modal.open=function(d){const{id:e,pid:r}=d;let{modal:a}=d,t;return new Promise(c=>{Promise.all([s.get(e),r?s.getByPid(r):[]]).then(m=>new Promise(w=>{const D=m.reduce((C,p)=>C.concat(p));t=D.length,w(D)})).then(m=>l.render("modals/topic-thumbs",{thumbs:m})).then(m=>{a?i.translate(m,function(w){a.find(".bootbox-body").html(w),s.modal.handleSort({modal:a,numThumbs:t})}):(a=u.dialog({title:"[[modules:thumbs.modal.title]]",message:m,onEscape:!0,backdrop:!0,buttons:{add:{label:'<i class="fa fa-plus"></i> [[modules:thumbs.modal.add]]',className:"btn-success",callback:()=>(s.upload(e).then(()=>{s.modal.open({...d,modal:a}),Promise.all([f.e(61006),f.e(18099),f.e(10830),f.e(8311)]).then(function(){var w=[f(44541)];(D=>{D.updateThumbCount(e,$(`[component="composer"][data-uuid="${e}"]`)),c()}).apply(null,w)}).catch(f.oe)}),!1)},close:{label:"[[global:close]]",className:"btn-primary"}}}),s.modal.handleDelete({...d,modal:a}),s.modal.handleSort({modal:a,numThumbs:t}))})})},s.modal.handleDelete=d=>{d.modal.get(0).addEventListener("click",r=>{r.target.closest('button[data-action="remove"]')&&u.confirm("[[modules:thumbs.modal.confirm-remove]]",a=>{if(!a)return;const t=r.target.closest("[data-id]").getAttribute("data-id"),c=r.target.closest("[data-path]").getAttribute("data-path");v.del(`/topics/${t}/thumbs`,{path:c}).then(()=>{s.modal.open(d)}).catch(n.error)})})},s.modal.handleSort=({modal:d,numThumbs:e})=>{if(e>1){const r=d.find(".topic-thumbs-modal");r.sortable({items:"[data-id]"}),r.on("sortupdate",s.modal.handleSortChange)}},s.modal.handleSortChange=(d,e)=>{const r=e.item.get(0).parentNode.querySelectorAll("[data-id]");Array.from(r).forEach((a,t)=>{const c=a.getAttribute("data-id");let m=a.getAttribute("data-path");m=m.replace(new RegExp(`^${config.upload_url}`),""),v.put(`/topics/${c}/thumbs/order`,{path:m,order:t}).catch(n.error)})},s}.apply(E,g),h!==void 0&&(b.exports=h)},50431:(b,E,f)=>{"use strict";var g,h;g=[f(86569)],h=function(){const v={};v.show=function(i,s){const d=i.hasOwnProperty("fileSize")&&i.fileSize!==void 0?parseInt(i.fileSize,10):!1;app.parseAndTranslate("modals/upload-file",{showHelp:i.hasOwnProperty("showHelp")&&i.showHelp!==void 0?i.showHelp:!0,fileSize:d,title:i.title||"[[global:upload-file]]",description:i.description||"",button:i.button||"[[global:upload]]",accept:i.accept?i.accept.replace(/,/g,"&#44; "):""},function(e){e.modal("show"),e.on("hidden.bs.modal",function(){e.remove()});const r=e.find("#uploadForm");r.attr("action",i.route),r.find("#params").val(JSON.stringify(i.params)),e.find("#fileUploadSubmitBtn").on("click",function(){$(this).addClass("disabled"),r.submit()}),r.submit(function(){return u(e,d,s),!1})})},v.hideAlerts=function(i){$(i).find("#alert-status, #alert-success, #alert-error, #upload-progress-box").addClass("hide")};function u(i,s,d){n(i,"status","[[uploads:uploading-file]]"),i.find("#upload-progress-bar").css("width","0%"),i.find("#upload-progress-box").show().removeClass("hide");const e=i.find("#fileInput");if(!e.val())return n(i,"error","[[uploads:select-file-to-upload]]");if(!l(e[0],s))return n(i,"error","[[error:file-too-big, "+s+"]]");v.ajaxSubmit(i,d)}function n(i,s,d){v.hideAlerts(i),s==="error"&&i.find("#fileUploadSubmitBtn").removeClass("disabled"),d=d.replace(/&amp;#44/g,"&#44"),i.find("#alert-"+s).translateText(d).removeClass("hide")}v.ajaxSubmit=function(i,s){i.find("#uploadForm").ajaxSubmit({headers:{"x-csrf-token":config.csrf_token},error:function(e){e=o(e),n(i,"error",e.responseJSON?.status?.message||e.responseJSON?.error||`[[error:upload-error-fallback, ${e.status} ${e.statusText}]]`)},uploadProgress:function(e,r,a,t){i.find("#upload-progress-bar").css("width",t+"%")},success:function(e){let r=o(e);e.hasOwnProperty("response")&&e.hasOwnProperty("status")&&e.status.code==="ok"&&(r=e.response.images),s(r[0].url),n(i,"success","[[uploads:upload-success]]"),setTimeout(function(){v.hideAlerts(i),i.modal("hide")},750)}})};function o(i){if(typeof i=="string")try{return JSON.parse(i)}catch{return{error:"[[error:parse-error]]"}}return i}function l(i,s){return window.FileReader&&s?i.files[0].size<=s*1e3:!0}return v}.apply(E,g),h!==void 0&&(b.exports=h)},18196:(b,E,f)=>{"use strict";var g,h;g=[f(83713)],h=function(v){var u={};return u.insertIntoTextarea=function(n,o){var l={context:this,textarea:n,value:o,preventDefault:!1};if($(window).trigger("action:composer.insertIntoTextarea",l),!l.preventDefault){var i=$(l.textarea),s=i.val(),d=i.parents('[component="composer"]');i.val(s.slice(0,l.textarea.selectionStart)+l.value+s.slice(l.textarea.selectionStart)),v.render(d)}},u.replaceSelectionInTextareaWith=function(n,o){var l={context:this,textarea:n,value:o,preventDefault:!1};if($(window).trigger("action:composer.replaceSelectionInTextareaWith",l),!l.preventDefault){var i=$(l.textarea),s=i.val(),d=i.parents('[component="composer"]');i.val(s.slice(0,l.textarea.selectionStart)+l.value+s.slice(l.textarea.selectionEnd)),v.render(d)}},u.wrapSelectionInTextareaWith=function(n,o,l){var i={context:this,textarea:n,leading:o,trailing:l,preventDefault:!1};if($(window).trigger("action:composer.wrapSelectionInTextareaWith",i),!i.preventDefault){l===void 0&&(l=o);var s=$(n),d=s.val(),e=/^(\s*)([\s\S]*?)(\s*)$/.exec(d.slice(n.selectionStart,n.selectionEnd));return e[2]||(e=[null,"",d.slice(n.selectionStart,n.selectionEnd),""]),s.val(d.slice(0,n.selectionStart)+e[1]+o+e[2]+l+e[3]+d.slice(n.selectionEnd)),[e[1].length,e[3].length]}},u.updateTextareaSelection=function(n,o,l){var i={context:this,textarea:n,start:o,end:l,preventDefault:!1};$(window).trigger("action:composer.updateTextareaSelection",i),!i.preventDefault&&(n.setSelectionRange(i.start,i.end),$(i.textarea).focus())},u.getBlockData=function(n,o,l){var i=n.value;o=o.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&");var s=new RegExp(o,"g"),d,e=[],r;for(i=i.split(`
`).reduce(function(a,t){return a!==null||(a=l<=t.length?t:null,a===null&&(l-=t.length+1)),a},null);(d=s.exec(i))!==null;)e.push(d.index);return r={in:!!(e.reduce(function(a,t){return l>=t+2&&(a+=1),a},0)%2),atEnd:e.reduce(function(a,t){return a||l===t},!1)},r.atEnd=r.in?r.atEnd:!1,r},u}.apply(E,g),h!==void 0&&(b.exports=h)},35729:(b,E,f)=>{"use strict";var g,h;g=[f(83713),f(38259),f(62023),f(10577)],h=function(v,u,n,o){var l={},i={picture:function(){var e=this;e.find("#files").click()},upload:function(){var e=this;e.find("#files").click()},thumbs:function(){l.exitFullscreen();var e=this;Promise.all([f.e(61006),f.e(18099),f.e(10830),f.e(92497)]).then(function(){var r=[f(44541)];(function(a){const t=e.get(0).getAttribute("data-uuid"),c=a.posts[t];(c.action==="topics.post"||c.action==="posts.edit"&&c.isMain)&&n.modal.open({id:t,pid:c.pid}).then(()=>{e.trigger("thumb.uploaded"),a.updateThumbCount(t,e)})}).apply(null,r)}).catch(f.oe)},tags:function(){var e=this;e.find(".tags-container").toggleClass("hidden")},zen:function(){var e=this;$(window).one("resize",function(){function r(){o.isFullscreen||(app.toggleNavbar(!0),$("html").removeClass("zen-mode"),u.reposition(e),$(window).off("resize",r))}o.isFullscreen&&(app.toggleNavbar(!1),$("html").addClass("zen-mode"),e.find(".write").focus(),$(window).on("resize",r),$(window).one("action:composer.topics.post action:composer.posts.reply action:composer.posts.edit action:composer.discard",o.exit))}),o.toggle(e.get(0)),$(window).trigger("action:composer.fullscreen",{postContainer:e})}},s=[];l.exitFullscreen=function(){o.isEnabled&&o.isFullscreen&&o.exit()},l.addComposerButtons=function(){const e=$(".formatting-bar"),r=e.find(".formatting-group #fileForm");s.forEach(t=>{let c="";Array.isArray(t.dropdownItems)&&t.dropdownItems.length?c=d(t):c=`
					<li data-format="${t.name}" title="${t.title||""}" href="#" class="btn btn-sm btn-link text-reset position-relative" tabindex="-1">
						<i class="${t.iconClass}"></i>
					</li>
				`,r.before(c)}),e.find(".formatting-group>li").tooltip({container:"#content",animation:!1,trigger:"manual"}).on("mouseenter",function(t){const c=$(t.target);c.hasClass("dropdown-menu")||!!c.parents(".dropdown-menu").length||$(this).tooltip("show")}).on("click mouseleave",function(){$(this).tooltip("hide")})};function d(e){const r=e.dropdownItems.map(function(a){let t="";return a.badge&&(t='<span class="px-1 position-absolute top-0 start-100 translate-middle-x badge rounded text-bg-info"></span>'),`
				<li data-format="${a.name}">
					<a href="#" class="dropdown-item rounded-1 position-relative">
						<i class="${a.iconClass} text-secondary"></i> ${a.text}
						${t}
					</a>
				</li>
			`});return`
			<li class="dropdown bottom-sheet" tab-index="-1" title="${e.title}">
				<button class="btn btn-sm btn-link text-reset" data-bs-toggle="dropdown" >
					<i class="${e.iconClass}"></i>
				</button>
				<ul class="dropdown-menu p-1">
				${r}
				</ul>
			</li>
		`}return l.addButton=function(e,r,a,t){t=t||e.replace("fa fa-",""),i[t]=r,s.push({name:t,iconClass:e,title:a})},l.addDropdown=function(e){s.push({iconClass:e.iconClass,title:e.title,dropdownItems:e.dropdownItems}),e.dropdownItems.forEach(r=>{r.name&&r.onClick&&(i[r.name]=r.onClick)})},l.getDispatchTable=function(){return i},l.addButtonDispatch=function(e,r){i[e]=r},l.addHandler=function(e){e.on("click",".formatting-bar li[data-format]",function(r){var a=$(this).attr("data-format"),t=$(this).parents('[component="composer"]').find("textarea")[0];i.hasOwnProperty(a)&&(i[a].call(e,t,t.selectionStart,t.selectionEnd,r),v.render(e))})},l}.apply(E,g),h!==void 0&&(b.exports=h)},51077:(b,E,f)=>{"use strict";var g,h;g=[f(85233)],h=function(v){var u={};return u.render=function(n,o){if(o=o||function(){},!n.find(".preview-container").is(":visible"))return o();var l=n.find("textarea");socket.emit("plugins.composer.renderPreview",l.val(),function(i,s){i||(s=$("<div>"+s+"</div>"),s.find("img:not(.not-responsive)").addClass("img-fluid"),n.find(".preview").html(s),v.fire("action:composer.preview",{postContainer:n,preview:s}),o())})},u.matchScroll=function(n){if(n.find(".preview-container").is(":visible")){var o=n.find("textarea"),l=n.find(".preview");if(o.length&&l.length){var i=o[0].scrollHeight-o.height();if(i===0)return;var s=o.scrollTop()/i;l.scrollTop(Math.max(l[0].scrollHeight-l.height(),0)*s)}}},u.handleToggler=function(n){const o=n.get(0);u.env=utils.findBootstrapEnvironment();const l=["xs","sm"].includes(u.env),i=o.querySelector('.formatting-bar [data-action="preview"]'),s=i.querySelector(".show-text"),d=i.querySelector(".hide-text"),e=localStorage.getItem("composer:previewToggled"),r=config["composer-default"].hidePreviewOnOpen==="on";let a=!l&&(e===null&&!r||e==="true");const t=o.querySelector(".preview-container"),c=o.querySelector(".write-container");if(!i)return;function m(w){l?(t.classList.toggle("hide",!1),c.classList.toggle("maximized",!1),t.classList.toggle("d-none",!w),t.classList.toggle("d-flex",w),t.classList.toggle("w-100",w),c.classList.toggle("d-flex",!w),c.classList.toggle("d-none",w),c.classList.toggle("w-100",!w)):(t.classList.toggle("hide",!w),c.classList.toggle("w-50",w),c.classList.toggle("w-100",!w),localStorage.setItem("composer:previewToggled",w)),s.classList.toggle("hide",w),d.classList.toggle("hide",!w),w&&u.render(n),u.matchScroll(n)}u.toggle=m,i.addEventListener("click",w=>{w.button===0&&(a=!a,m(a))}),m(a)},u}.apply(E,g),h!==void 0&&(b.exports=h)},65616:(b,E,f)=>{"use strict";var g,h;g=[f(27145)],h=function(v){var u={},n=0,o=.3,l=.05,i=768,s=$("body"),d=$(window),e=$('[component="navbar"]');const r=document.getElementById("content");var a=e[0];function t(){return localStorage.getItem("composer:resizeRatio")||.5}function c(p){localStorage.setItem("composer:resizeRatio",Math.min(p,1))}function m(){var p;a?p=a.getBoundingClientRect():p={bottom:0};var x=Math.max(p.bottom,0),A={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};return A.width=A.right,A.height=A.bottom,A.boundedTop=x,A.boundedHeight=A.bottom-x,A}function w(p,x){var A=m(),F=p[0],B=window.getComputedStyle(F),N=parseInt(B.getPropertyValue("min-height"),10),I=Math.max(N/window.innerHeight,o);if(A.width>=i){const T=(A.height-A.boundedHeight)/A.height;x=Math.min(Math.max(x,I+T),1);var z=x*A.boundedHeight/A.height;F.style.top=((1-z)*100).toString()+"%";var R=F.getBoundingClientRect();r.style.paddingBottom=(R.bottom-R.top).toString()+"px"}else F.style.top=0,r.style.paddingBottom=0;p.ratio=x,v.updateActive(p.attr("data-uuid"))}var D=w,C=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return C&&(D=function(p,x){C(function(){w(p,x),setTimeout(function(){d.trigger("action:composer.resize"),p.trigger("action:composer.resize")},0)})}),u.reposition=function(p){var x=t();x>=1-l&&(x=1,p.addClass("maximized")),D(p,x)},u.maximize=function(p,x){x?D(p,1):u.reposition(p)},u.handleResize=function(p){var x=0,A=0,F=0,B=p.find(".resizer"),N=B[0];function I(S){var P=N.getBoundingClientRect(),k=(P.top+P.bottom)/2;x=(k-S.clientY)/2,A=S.clientY,d.on("mousemove",z),d.on("mouseup",R),s.on("touchmove",T)}function z(S){var P=S.clientY-x,k=m(),y=(k.height-P)/k.boundedHeight;D(p,y)}function R(S){S.preventDefault(),F=S.clientY,p.find("textarea").focus(),d.off("mousemove",z),d.off("mouseup",R),s.off("touchmove",T);var P=F-x,k=m(),y=(k.height-P)/k.boundedHeight;F-A===0&&p.hasClass("maximized")?(p.removeClass("maximized"),y=!n||n>=1-l?.5:n,D(p,y)):F-A===0||y>=1-l?(D(p,1),p.addClass("maximized"),n=y):p.removeClass("maximized"),c(y)}function T(S){S.preventDefault(),z(S.touches[0])}B.on("mousedown",function(S){S.button===0&&(S.preventDefault(),I(S))}).on("touchstart",function(S){S.preventDefault(),I(S.touches[0])}).on("touchend",R)},u}.apply(E,g),h!==void 0&&(b.exports=h)},10577:b=>{/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/(function(){"use strict";var E=typeof window<"u"&&typeof window.document<"u"?window.document:{},f=b.exports,g=function(){for(var u,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=0,l=n.length,i={};o<l;o++)if(u=n[o],u&&u[1]in E){for(o=0;o<u.length;o++)i[n[0][o]]=u[o];return i}return!1}(),h={change:g.fullscreenchange,error:g.fullscreenerror},v={request:function(u,n){return new Promise(function(o,l){var i=function(){this.off("change",i),o()}.bind(this);this.on("change",i),u=u||E.documentElement;var s=u[g.requestFullscreen](n);s instanceof Promise&&s.then(i).catch(l)}.bind(this))},exit:function(){return new Promise(function(u,n){if(!this.isFullscreen){u();return}var o=function(){this.off("change",o),u()}.bind(this);this.on("change",o);var l=E[g.exitFullscreen]();l instanceof Promise&&l.then(o).catch(n)}.bind(this))},toggle:function(u,n){return this.isFullscreen?this.exit():this.request(u,n)},onchange:function(u){this.on("change",u)},onerror:function(u){this.on("error",u)},on:function(u,n){var o=h[u];o&&E.addEventListener(o,n,!1)},off:function(u,n){var o=h[u];o&&E.removeEventListener(o,n,!1)},raw:g};if(!g){f?b.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(v,{isFullscreen:{get:function(){return!!E[g.fullscreenElement]}},element:{enumerable:!0,get:function(){return E[g.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!E[g.fullscreenEnabled]}}}),f?b.exports=v:window.screenfull=v})()}}]);
