(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[97931,70565,83014,66623,49286,99617,34677,62735,43034,54625],{74344:(E,D,f)=>{"use strict";f.r(D),f.d(D,{del:()=>s,get:()=>a,head:()=>c,patch:()=>e,post:()=>u,put:()=>i});var b=f(85233),y=f.n(b),C=f(63281),p=f.n(C);const n=config.relative_path+"/api/v3";async function r(t,l){if(t.url=t.url.startsWith("/api")?config.relative_path+t.url:n+t.url,typeof l=="function"){o(t).then(d=>l(null,d),d=>l(d));return}try{return await o(t)}catch(d){if(d.message==="A valid login session was not found. Please log in and try again.")return(0,C.confirm)("[[error:api.reauth-required]]",h=>{h&&ajaxify.go("login")});throw d}}async function o(t){const{url:l}=t;delete t.url,t.data&&!(t.data instanceof FormData)&&(t.data=JSON.stringify(t.data||{}),t.headers["content-type"]="application/json; charset=utf-8"),{options:t}=await(0,b.fire)("filter:api.options",{options:t}),t.data&&(t.body=t.data,delete t.data);const d=await fetch(l,t),{headers:h}=d,T=h.get("content-type"),g=T&&T.startsWith("application/json");let m;if(t.method!=="head"&&(g?m=await d.json():m=await d.text()),!d.ok)throw m?new Error(g?m.status.message:m):new Error(d.statusText);return g&&m&&m.hasOwnProperty("status")&&m.hasOwnProperty("response")?m.response:m}function a(t,l,d){return r({url:t+(l&&Object.keys(l).length?"?"+$.param(l):"")},d)}function c(t,l,d){return r({url:t+(l&&Object.keys(l).length?"?"+$.param(l):""),method:"head"},d)}function u(t,l,d){return r({url:t,method:"post",data:l,headers:{"x-csrf-token":config.csrf_token}},d)}function e(t,l,d){return r({url:t,method:"patch",data:l,headers:{"x-csrf-token":config.csrf_token}},d)}function i(t,l,d){return r({url:t,method:"put",data:l,headers:{"x-csrf-token":config.csrf_token}},d)}function s(t,l,d){return r({url:t,method:"delete",data:l,headers:{"x-csrf-token":config.csrf_token}},d)}},22905:(E,D,f)=>{"use strict";var b,y;b=[f(7927),f(73138)],y=function(C,p){const n={};return n.init=function(r,o){let a=null;o=o||{},o.privilege=o.privilege||"topics:read",o.states=o.states||["watching","notwatching","ignoring"],o.cacheList=o.hasOwnProperty("cacheList")?o.cacheList:!0;let c=[];Array.isArray(o.localCategories)&&(c=o.localCategories.map(t=>({...t}))),o.selectedCids=o.selectedCids||ajaxify.data.selectedCids||[];const u=r.find('[component="category-selector-search"]');if(!u.length)return;const e=u.parent('[component="category/dropdown"]').length>0||u.parent('[component="category-selector"]').length>0;r.on("show.bs.dropdown",function(){e&&(r.find(".dropdown-toggle").css({visibility:"hidden"}),u.removeClass("hidden"),u.css({"z-index":r.find(".dropdown-toggle").css("z-index")+1}));function t(){const l=u.find("input").val();l.length>1||!l&&!a?i(l,function(d){a=o.cacheList&&(a||d),s(d)}):!l&&a&&s(a)}u.on("click",function(l){l.preventDefault(),l.stopPropagation()}),u.find("input").val("").on("keyup",utils.debounce(t,300)),t()}),r.on("shown.bs.dropdown",function(){["xs","sm"].includes(utils.findBootstrapEnvironment())||u.find("input").focus()}),r.on("hide.bs.dropdown",function(){e&&(r.find(".dropdown-toggle").css({visibility:"inherit"}),u.addClass("hidden")),u.off("click"),u.find("input").off("keyup")});function i(t,l){socket.emit("categories.categorySearch",{search:t,query:utils.params(),parentCid:o.parentCid||0,selectedCids:o.selectedCids,privilege:o.privilege,states:o.states,showLinks:o.showLinks},function(d,h){if(d)return C.error(d);l(c.concat(h))})}function s(t){const l=o.selectedCids.map(String);t.forEach(function(d){d.selected=l.includes(String(d.cid))}),app.parseAndTranslate(o.template,{categoryItems:t.slice(0,200),selectedCategory:ajaxify.data.selectedCategory,allCategoriesUrl:ajaxify.data.allCategoriesUrl},function(d){r.find('[component="category/list"]').html(d.find('[component="category/list"]').html()),r.find('[component="category/list"] [component="category/no-matches"]').toggleClass("hidden",!!t.length);const h=p.Dropdown.getInstance(r.find(".dropdown-toggle").get(0));h&&h.update()})}},n}.apply(D,b),y!==void 0&&(E.exports=y)},50548:(E,D,f)=>{"use strict";var b,y;b=[f(22905),f(63281),f(85233),f(32230)],y=function(C,p,n,r){const o={};return o.init=function(a,c){if(!a||!a.length)return;c=c||{};const u=c.onSelect||function(){};c.states=c.states||["watching","notwatching","ignoring"],c.template=c.template||"partials/category/selector-dropdown-left",n.fire("action:category.selector.options",{el:a,options:c}),C.init(a,c);const e={el:a,selectedCategory:null};a.on("click","[data-cid]",function(){const s=$(this);return s.hasClass("disabled")?!1:(e.selectCategory(s.attr("data-cid")),u(e.selectedCategory))});let i=e.el.find('[component="category-selector-selected"]').html();return r.translate(i,s=>{i=s}),e.selectCategory=function(s){const t=e.el.find('[data-cid="'+s+'"]');e.selectedCategory={cid:s,name:t.attr("data-name")},t.length?e.el.find('[component="category-selector-selected"]').html(t.find('[component="category-markup"]').html()):e.el.find('[component="category-selector-selected"]').html(i)},e.getSelectedCategory=function(){return e.selectedCategory},e.getSelectedCid=function(){return e.selectedCategory?e.selectedCategory.cid:0},c.hasOwnProperty("selectedCategory")&&app.parseAndTranslate(c.template,{selectedCategory:c.selectedCategory},function(s){e.el.find('[component="category-selector-selected"]').html(s.find('[component="category-selector-selected"]').html())}),e},o.modal=function(a){a=a||{},a.onSelect=a.onSelect||function(){},a.onSubmit=a.onSubmit||function(){},app.parseAndTranslate("admin/partials/categories/select-category",{message:a.message},function(c){const u=p.dialog({title:a.title||"[[modules:composer.select-category]]",message:c,buttons:{save:{label:"[[global:select]]",className:"btn-primary",callback:i}}}),e=o.init(u.find('[component="category-selector"]'),a);function i(s){return s.preventDefault(),e.selectedCategory&&(a.onSubmit(e.selectedCategory),u.modal("hide")),!1}a.openOnLoad&&u.on("shown.bs.modal",function(){u.find(".dropdown-toggle").dropdown("toggle")}),u.find("form").on("submit",i)})},o}.apply(D,b),y!==void 0&&(E.exports=y)},98755:(E,D,f)=>{E.exports=f(77678)},83713:(E,D,f)=>{E.exports=f(51077)},22143:(E,D,f)=>{E.exports=f(77070)},27145:(E,D,f)=>{"use strict";E=f.nmd(E);var b,y;b=[f(32230),f(85233)],y=function(C,p){const n={};let r=!1;n.init=function(){if(n.taskbar=$('[component="taskbar"]'),n.tasklist=n.taskbar.find("ul"),!n.taskbar.length||!n.tasklist.length){r=!0;return}n.taskbar.on("click","li",async function(){const e=$(this),i=e.attr("data-module"),s=e.attr("data-uuid"),t=await app.require(i);return e.hasClass("active")?t.minimize(s):(a(),t.load(s),n.toggleNew(s,!1),n.tasklist.removeClass("active"),e.addClass("active")),!1}),$(window).on("action:app.loggedOut",function(){n.closeAll()})},n.close=async function(e,i){if(r)return;if(n.tasklist.find('[data-module="'+E+'"][data-uuid="'+i+'"]').length){const t=await app.require(e);t&&typeof t.close=="function"&&t.close(i)}},n.closeAll=function(e){if(r)return;let i="[data-uuid]";e&&(i='[data-module="'+e+'"]'+i),n.tasklist.find(i).each(function(s,t){n.close(e||t.getAttribute("data-module"),t.getAttribute("data-uuid"))})},n.discard=function(e,i){if(r)return;n.tasklist.find('[data-module="'+e+'"][data-uuid="'+i+'"]').remove(),o()},n.push=function(e,i,s,t){if(t=t||function(){},r)return t();const l=n.tasklist.find('li[data-uuid="'+i+'"]'),d={module:e,uuid:i,options:s,element:l};p.fire("filter:taskbar.push",d),!l.length&&d.module?c(d,t):t(l)},n.get=function(e){return r?[]:$('[data-module="'+e+'"]').map(function(s,t){return $(t).data()})},n.minimize=function(e,i){if(r)return;n.tasklist.find('[data-module="'+e+'"][data-uuid="'+i+'"]').toggleClass("active",!1)},n.toggleNew=function(e,i,s){if(r)return;n.tasklist.find('[data-uuid="'+e+'"]').toggleClass("new",i),s||p.fire("action:taskbar.toggleNew",e)},n.updateActive=function(e){if(r)return;const i=n.tasklist.find("li");i.removeClass("active"),i.filter('[data-uuid="'+e+'"]').addClass("active"),$("[data-uuid]:not([data-module])").toggleClass("modal-unfocused",!0),$('[data-uuid="'+e+'"]:not([data-module])').toggleClass("modal-unfocused",!1)},n.isActive=function(e){return r?!1:n.tasklist.find('li[data-uuid="'+e+'"]').hasClass("active")};function o(){if(r)return;n.tasklist.find("li").length>0?n.taskbar.attr("data-active","1"):n.taskbar.removeAttr("data-active")}function a(){r||n.tasklist.find(".active").removeClass("active")}function c(e,i){if(r)return i();C.translate(e.options.title,function(s){const t=$("<div></div>").text(s||"NodeBB Task").html(),l=$("<li></li>").addClass(e.options.className).html('<a href="#"'+(e.options.image?` style="background-image: url('`+e.options.image.replace(/&#x2F;/g,"/")+`'); background-size: cover;"`:"")+">"+(e.options.icon?'<i class="fa '+e.options.icon+'"></i> ':"")+'<span aria-label="'+t+'" component="taskbar/title">'+t+"</span></a>").attr({title:t,"data-module":e.module,"data-uuid":e.uuid}).addClass(e.options.state!==void 0?e.options.state:"active");(!e.options.state||e.options.state==="active")&&a(),n.tasklist.append(l),o(),e.element=l,l.data(e),p.fire("action:taskbar.pushed",e),i(l)})}const u=function(e,i,s){switch(i){case"title":e.find('[component="taskbar/title"]').text(s);break;case"icon":e.find("i").attr("class","fa fa-"+s);break;case"image":e.find("a").css("background-image",s?'url("'+s.replace(/&#x2F;/g,"/")+'")':"");break;case"background-color":e.find("a").css("background-color",s);break;case"color":e.find("a").css("color",s);break}};return n.update=function(e,i,s){if(r)return;const t=n.tasklist.find('[data-module="'+e+'"][data-uuid="'+i+'"]');if(!t.length)return;const l=t.data();Object.keys(s).forEach(function(d){l[d]=s[d],u(t,d,s[d])}),t.data(l)},n}.apply(D,b),y!==void 0&&(E.exports=y)},33371:(E,D,f)=>{"use strict";var b,y;b=[f(7927)],y=function(C){const p={};return p.init=function(n){const r=n.uploadFormEl;if(r.length&&(r.attr("action",config.relative_path+n.route),n.dragDropAreaEl&&p.handleDragDrop({container:n.dragDropAreaEl,callback:function(o){p.ajaxSubmit({uploadForm:r,upload:o,callback:n.callback})}}),n.pasteEl&&p.handlePaste({container:n.pasteEl,callback:function(o){p.ajaxSubmit({uploadForm:r,upload:o,callback:n.callback})}}),n.uploadBtnEl)){const o=r.find('input[name="files[]"]');n.uploadBtnEl.on("click",function(){o.trigger("click")}),o.on("change",function(a){const c=(a.target||{}).files||($(this).val()?[{name:$(this).val(),type:utils.fileMimeType($(this).val())}]:null);c&&p.ajaxSubmit({uploadForm:r,upload:{files:c,fileNames:Array.from(c).map(u=>u.name)},callback:n.callback})})}},p.handleDragDrop=function(n){let r=!1;const o=n.container,a=n.container.find(".imagedrop");o.on("dragenter",function(){r||(a.css("top","0px"),a.css("height",o.height()+"px"),a.css("line-height",o.height()+"px"),a.show(),a.on("dragleave",function(){a.hide(),a.off("dragleave")}))}),a.on("drop",function(e){e.preventDefault();const i=e.originalEvent.dataTransfer.files;if(i.length){let t;if(window.FormData){t=new FormData;for(var s=0;s<i.length;++s)t.append("files[]",i[s],i[s].name)}n.callback({files:i,formData:t})}return a.hide(),!1});function c(u){return u.preventDefault(),!1}$(document).off("dragstart").on("dragstart",function(){r=!0}).off("dragend").on("dragend, mouseup",function(){r=!1}),a.on("dragover",c),a.on("dragenter",c)},p.handlePaste=function(n){n.container.on("paste",function(o){const a=(o.clipboardData||o.originalEvent.clipboardData||{}).items,c=[],u=[];let e=null;window.FormData&&(e=new FormData),[].forEach.call(a,function(i){const s=i.getAsFile();if(s){const t=utils.generateUUID()+"-"+s.name;e&&e.append("files[]",s,t),c.push(s),u.push(t)}}),c.length&&n.callback({files:c,fileNames:u,formData:e})})},p.ajaxSubmit=function(n){const r=[...n.upload.files];for(let a=0;a<r.length;++a){const c=r[a].type.match(/image./);if(c&&!app.user.privileges["upload:post:image"]||!c&&!app.user.privileges["upload:post:file"])return C.error("[[error:no-privileges]]");if(!app.user.isAdmin&&r[a].size>parseInt(config.maximumFileSize,10)*1024)return n.uploadForm[0].reset(),C.error("[[error:file-too-big, "+config.maximumFileSize+"]]")}const o=Date.now();n.uploadForm.off("submit").on("submit",function(){return $(this).ajaxSubmit({headers:{"x-csrf-token":config.csrf_token},resetForm:!0,clearForm:!0,formData:n.upload.formData,error:function(a){let c=a.responseJSON&&(a.responseJSON.error||a.responseJSON.status&&a.responseJSON.status.message)||"[[error:parse-error]]";a&&a.status===413&&(c=a.statusText||"Request Entity Too Large"),C.error(c),C.remove(o)},uploadProgress:function(a,c,u,e){C.alert({alert_id:o,message:"[[modules:composer.uploading, "+e+"%]]"})},success:function(a){const c=a.response.images;if(c&&c.length)for(var u=0;u<c.length;++u)c[u].filename=r[u].name,c[u].isImage=/image./.test(r[u].type);n.callback(c)},complete:function(){n.uploadForm[0].reset(),setTimeout(C.remove,100,o)}}),!1}),n.uploadForm.submit()},p}.apply(D,b),y!==void 0&&(E.exports=y)},77678:(E,D,f)=>{"use strict";var b,y;b=[f(50548),f(27145),f(74344)],y=function(C,p,n){var r={},o;r.init=function(e,i){var s=e.find(".category-list-container");s.length&&(e.on("action:composer.resize",function(){a(e)}),r.updateTaskbar(e,i),o=C.init(s.find('[component="category-selector"]'),{privilege:"topics:create",states:["watching","notwatching","ignoring"],onSelect:function(t){i.hasOwnProperty("cid")&&u(e,i,t)}}),o&&(i.cid&&i.category?o.selectedCategory={cid:i.cid,name:i.category.name}:ajaxify.data.template.compose&&ajaxify.data.selectedCategory&&(o.selectedCategory={cid:ajaxify.data.cid,name:ajaxify.data.selectedCategory}),e.find(".category-name").translateText(o.selectedCategory?o.selectedCategory.name:"[[modules:composer.select-category]]").on("click",function(){C.modal({privilege:"topics:create",states:["watching","notwatching","ignoring"],openOnLoad:!0,showLinks:!1,onSubmit:function(t){e.find(".category-name").text(t.name),o.selectCategory(t.cid),i.hasOwnProperty("cid")&&u(e,i,t)}})}),a(e)))};function a(e){e.find('.category-list-container [component="category-selector"]').toggleClass("dropup",e.outerHeight()<$(window).height()/2)}r.getSelectedCid=function(){var e;return o&&(e=o.getSelectedCategory()),e?e.cid:0},r.updateTaskbar=function(e,i){parseInt(i.cid,10)&&n.get(`/categories/${i.cid}`,{}).then(function(s){c(e,s)})};function c(e,i){if(i){var s=e.attr("data-uuid");p.update("composer",s,{image:i.backgroundImage,color:i.color,"background-color":i.bgColor,icon:i.icon&&i.icon.slice(3)})}}async function u(e,i,s){i.cid=s.cid;const t=await window.fetch(`${config.relative_path}/api/category/${s.cid}`).then(l=>l.json());i.category=t,c(e,t),f.e(10656).then(function(){var l=[f(98166),f(88186),f(84964)];(function(d,h,T){d.onChangeCategory(t),h.onChangeCategory(e,i,s.cid,t),T.onChangeCategory(e,i),$(window).trigger("action:composer.changeCategory",{postContainer:e,postData:i,selectedCategory:s,categoryData:t})}).apply(null,l)}).catch(f.oe)}return r}.apply(D,b),y!==void 0&&(E.exports=y)},51077:(E,D,f)=>{"use strict";var b,y;b=[f(85233)],y=function(C){var p={};return p.render=function(n,r){if(r=r||function(){},!n.find(".preview-container").is(":visible"))return r();var o=n.find("textarea");socket.emit("plugins.composer.renderPreview",o.val(),function(a,c){a||(c=$("<div>"+c+"</div>"),c.find("img:not(.not-responsive)").addClass("img-fluid"),n.find(".preview").html(c),C.fire("action:composer.preview",{postContainer:n,preview:c}),r())})},p.matchScroll=function(n){if(n.find(".preview-container").is(":visible")){var r=n.find("textarea"),o=n.find(".preview");if(r.length&&o.length){var a=r[0].scrollHeight-r.height();if(a===0)return;var c=r.scrollTop()/a;o.scrollTop(Math.max(o[0].scrollHeight-o.height(),0)*c)}}},p.handleToggler=function(n){const r=n.get(0);p.env=utils.findBootstrapEnvironment();const o=["xs","sm"].includes(p.env),a=r.querySelector('.formatting-bar [data-action="preview"]'),c=a.querySelector(".show-text"),u=a.querySelector(".hide-text"),e=localStorage.getItem("composer:previewToggled"),i=config["composer-default"].hidePreviewOnOpen==="on";let s=!o&&(e===null&&!i||e==="true");const t=r.querySelector(".preview-container"),l=r.querySelector(".write-container");if(!a)return;function d(h){o?(t.classList.toggle("hide",!1),l.classList.toggle("maximized",!1),t.classList.toggle("d-none",!h),t.classList.toggle("d-flex",h),t.classList.toggle("w-100",h),l.classList.toggle("d-flex",!h),l.classList.toggle("d-none",h),l.classList.toggle("w-100",!h)):(t.classList.toggle("hide",!h),l.classList.toggle("w-50",h),l.classList.toggle("w-100",!h),localStorage.setItem("composer:previewToggled",h)),c.classList.toggle("hide",h),u.classList.toggle("hide",!h),h&&p.render(n),p.matchScroll(n)}p.toggle=d,a.addEventListener("click",h=>{h.button===0&&(s=!s,d(s))}),d(s)},p}.apply(D,b),y!==void 0&&(E.exports=y)},77070:(E,D,f)=>{"use strict";var b,y;b=[f(83713),f(98755),f(32230),f(7927),f(33371),f(86569)],y=function(C,p,n,r,o){var a={inProgress:{}},c="";a.initialize=function(g){s(g),t(g),u(g),e(g),n.translate("[[modules:composer.uploading, 0%]]",function(m){c=m})};function u(g){var m=$('.composer[data-uuid="'+g+'"]');m.find("#files").on("change",function(v){var A=(v.target||{}).files||($(this).val()?[{name:$(this).val(),type:utils.fileMimeType($(this).val())}]:null);A&&h({files:A,post_uuid:g,route:"/api/post/upload"})})}function e(g){var m=$('.composer[data-uuid="'+g+'"]');m.on("click",".topic-thumb-clear-btn",function(v){m.find("input#topic-thumb-url").val("").trigger("change"),i(m.find("input#topic-thumb-file")),$(this).addClass("hide"),v.preventDefault()}),m.on("paste change keypress","input#topic-thumb-url",function(){var v=$(this);setTimeout(function(){var A=v.val();A?m.find(".topic-thumb-clear-btn").removeClass("hide"):(i(m.find("input#topic-thumb-file")),m.find(".topic-thumb-clear-btn").addClass("hide")),m.find("img.topic-thumb-preview").attr("src",A)},100)})}function i(g){g.wrap("<form />").closest("form").get(0).reset(),g.unwrap()}function s(g){var m=$('.composer[data-uuid="'+g+'"]');o.handleDragDrop({container:m,callback:function(v){h({files:v.files,post_uuid:g,route:"/api/post/upload",formData:v.formData})}})}function t(g){var m=$('.composer[data-uuid="'+g+'"]');o.handlePaste({container:m,callback:function(v){h({files:v.files,fileNames:v.fileNames,post_uuid:g,route:"/api/post/upload",formData:v.formData})}})}function l(g){return g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function d(g,m,v){return g.slice(0,m)+v+g.slice(m)}function h(g){var m=[...g.files],v=g.post_uuid,A=$('.composer[data-uuid="'+v+'"]'),_=A.find("textarea"),O=_.val(),F=A.find("#fileForm"),B=!1;F.attr("action",config.relative_path+g.route);var R=p.getSelectedCid();!R&&ajaxify.data.cid&&(R=ajaxify.data.cid);var k=0,L=!1;for(k=0;k<m.length;++k)if(L=m[k].type.match(/image./),L&&!app.user.privileges["upload:post:image"]||!L&&!app.user.privileges["upload:post:file"])return r.error("[[error:no-privileges]]");var P=[];let U="";for(k=0;k<m.length;++k){if(P.push(k+"_"+Date.now()+"_"+(g.fileNames?g.fileNames[k]:m[k].name)),L=m[k].type.match(/image./),!app.user.isAdmin&&m[k].size>parseInt(config.maximumFileSize,10)*1024)return F[0].reset(),r.error("[[error:file-too-big, "+config.maximumFileSize+"]]");U+=(L?"!":"")+"["+P[k]+"]("+c+") "}const W=_.getCursorPosition(),K=O.length;O=d(O,W,U),F.length&&A.find('[data-action="post"]').prop("disabled",!0),_.val(O),$(window).trigger("action:composer.uploadStart",{post_uuid:v,files:P.map(function(N,S){return{filename:N.replace(/^\d+_\d{13}_/,""),isImage:/image./.test(m[S].type)}}),text:c}),F.off("submit").submit(function(){function N(S,x,w){var M;w&&(M=S.replace(/^\d+_\d{13}_/,""));var j=_.val(),I=new RegExp(l(S)+"]\\([^)]+\\)","g");_.val(j.replace(I,(M||S)+"]("+x+")")),$(window).trigger("action:composer.uploadUpdate",{post_uuid:v,filename:S,text:x})}return a.inProgress[v]=a.inProgress[v]||[],a.inProgress[v].push(1),g.formData&&g.formData.append("cid",R),$(this).ajaxSubmit({headers:{"x-csrf-token":config.csrf_token},resetForm:!0,clearForm:!0,formData:g.formData,data:{cid:R},error:function(S){B=!0,A.find('[data-action="post"]').prop("disabled",!1);const x=T(S,v);for(var w=0;w<m.length;++w)N(P[w],x,!0);C.render(A)},uploadProgress:function(S,x,w,M){n.translate("[[modules:composer.uploading, "+M+"%]]",function(j){if(!B)for(var I=0;I<m.length;++I)N(P[I],j)})},success:function(S){const x=S.response.images;if(B=!0,x&&x.length)for(var w=0;w<x.length;++w)x[w].filename=P[w].replace(/^\d+_\d{13}_/,""),x[w].isImage=/image./.test(m[w].type),N(P[w],x[w].url,!0);C.render(A),_.selectRange(W+_.val().length-K),A.find('[data-action="post"]').prop("disabled",!1),$(window).trigger("action:composer.upload",{post_uuid:v,files:x})},complete:function(){F[0].reset(),a.inProgress[v].pop()}}),!1}),F.submit()}function T(g,m){var v=g.responseJSON&&(g.responseJSON.error||g.responseJSON.status&&g.responseJSON.status.message)||"[[error:parse-error]]";return g&&g.status===413&&(v=g.statusText||"Request Entity Too Large"),r.error(v),$(window).trigger("action:composer.uploadError",{post_uuid:m,message:v}),v}return a}.apply(D,b),y!==void 0&&(E.exports=y)}}]);
